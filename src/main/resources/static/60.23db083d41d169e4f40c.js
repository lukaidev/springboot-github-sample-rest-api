(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{"7M+u":function(t,e,o){"use strict";o.r(e),o.d(e,"RepoPageModule",function(){return y});var n=o("ofXK"),i=o("3Pt+"),r=o("TEn/"),s=o("tyNb"),c=o("fXoL"),b=o("UXun"),a=o("AytR"),l=o("tk/3");let p=(()=>{class t{constructor(t){this.http=t}getRepoAnalytics(t,e){return this.http.get(`${a.a.url}/github/repos/${t}/${e}/analytics`).pipe(Object(b.a)())}}return t.\u0275fac=function(e){return new(e||t)(c.Qb(l.a))},t.\u0275prov=c.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var u=o("9atR");function f(t,e){if(1&t){const t=c.Nb();c.Mb(0,"ion-button",5),c.Ub("click",function(){return c.ec(t),c.Wb().removeFave()}),c.Kb(1,"ion-icon",6),c.jc(2," added to favorites "),c.Lb()}}function d(t,e){if(1&t){const t=c.Nb();c.Mb(0,"ion-button",7),c.Ub("click",function(){return c.ec(t),c.Wb().addFav()}),c.Kb(1,"ion-icon",6),c.jc(2," add to favorites "),c.Lb()}}let m=(()=>{class t{constructor(t){this.storage=t}ngOnInit(){this.checkFav()}checkFav(){this.isFav=Promise.resolve(!1),this.storage.isFav(this.repo.id).subscribe(t=>{this.isFav=Promise.resolve(t)})}addFav(){this.storage.addFavorite(this.repo),this.isFav=Promise.resolve(!0)}removeFave(){this.storage.removeFavorite(this.repo),this.isFav=Promise.resolve(!1)}}return t.\u0275fac=function(e){return new(e||t)(c.Jb(u.a))},t.\u0275cmp=c.Db({type:t,selectors:[["app-owner"]],inputs:{repo:"repo"},decls:20,vars:8,consts:[["lines","none"],["slot","end",3,"click",4,"ngIf","ngIfElse"],["elseBlock",""],["slot","start"],[3,"src"],["slot","end",3,"click"],["slot","end","name","star"],["color","light","slot","end",3,"click"]],template:function(t,e){if(1&t&&(c.Mb(0,"div"),c.Mb(1,"ion-item",0),c.Mb(2,"h3"),c.jc(3,"Owner"),c.Lb(),c.hc(4,f,3,0,"ion-button",1),c.Xb(5,"async"),c.hc(6,d,3,0,"ng-template",null,2,c.ic),c.Lb(),c.Mb(8,"ion-card"),c.Mb(9,"ion-card-content"),c.Mb(10,"ion-item",0),c.Mb(11,"ion-avatar",3),c.Kb(12,"img",4),c.Lb(),c.Mb(13,"ion-label"),c.Mb(14,"h2"),c.jc(15),c.Lb(),c.Mb(16,"h3"),c.jc(17),c.Lb(),c.Mb(18,"p"),c.jc(19),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Lb()),2&t){const t=c.dc(7);c.zb(4),c.bc("ngIf",c.Yb(5,6,e.isFav))("ngIfElse",t),c.zb(8),c.bc("src",e.repo.avatar,c.fc),c.zb(3),c.kc(e.repo.name),c.zb(2),c.kc(e.repo.owner),c.zb(2),c.kc(e.repo.description)}},directives:[r.m,n.j,r.g,r.h,r.b,r.n,r.e,r.l],pipes:[n.b],styles:[""]}),t})();function h(t,e){if(1&t&&(c.Mb(0,"ion-card"),c.Mb(1,"ion-card-content"),c.Mb(2,"ion-item",0),c.Mb(3,"ion-avatar",2),c.Kb(4,"img",3),c.Lb(),c.Mb(5,"ion-label"),c.Mb(6,"h2"),c.jc(7),c.Lb(),c.Mb(8,"h3"),c.jc(9),c.Lb(),c.Lb(),c.Lb(),c.Mb(10,"ion-label"),c.jc(11,"Commit Percentage"),c.Lb(),c.Kb(12,"ion-progress-bar",4),c.Lb(),c.Lb()),2&t){const t=e.$implicit,o=c.Wb();c.zb(4),c.bc("src",t.avatar,c.fc),c.zb(3),c.kc(t.login),c.zb(2),c.kc(t.email),c.zb(3),c.bc("value",o.getPercent(t.commitCount))}}let v=(()=>{class t{constructor(){}ngOnInit(){}getPercent(t){return t/this.size}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Db({type:t,selectors:[["app-commiters"]],inputs:{commiters:"commiters",size:"size"},decls:5,vars:1,consts:[["lines","none"],[4,"ngFor","ngForOf"],["slot","start"],[3,"src"],[3,"value"]],template:function(t,e){1&t&&(c.Mb(0,"div"),c.Mb(1,"ion-item",0),c.Mb(2,"h3"),c.jc(3,"Commiters"),c.Lb(),c.Lb(),c.hc(4,h,13,4,"ion-card",1),c.Lb()),2&t&&(c.zb(4),c.bc("ngForOf",e.commiters))},directives:[r.m,n.i,r.g,r.h,r.b,r.n,r.q],styles:[""]}),t})();function g(t,e){if(1&t&&(c.Mb(0,"div"),c.Mb(1,"ion-row"),c.Mb(2,"ion-col"),c.Kb(3,"app-owner",3),c.Lb(),c.Lb(),c.Mb(4,"ion-row"),c.Mb(5,"ion-col"),c.Kb(6,"app-commiters",4),c.Lb(),c.Lb(),c.Lb()),2&t){const t=e.ngIf,o=c.Wb();c.zb(3),c.bc("repo",o.repo),c.zb(3),c.bc("commiters",t.commitersInfo)("size",t.totalCommits)}}const M=[{path:"",component:(()=>{class t{constructor(t,e,o){this.repoService=t,this.router=e,this.loadingController=o}ngOnInit(){this.getRouteData()}getRouteData(){return t=this,void 0,o=function*(){const t=yield this.router.getCurrentNavigation().extras.state;t?(this.repo=t.repo,this.loadRepo(this.repo.owner,this.repo.name)):this.router.navigate(["tabs","favorites"])},new((e=void 0)||(e=Promise))(function(n,i){function r(t){try{c(o.next(t))}catch(e){i(e)}}function s(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var o;t.done?n(t.value):(o=t.value,o instanceof e?o:new e(function(t){t(o)})).then(r,s)}c((o=o.apply(t,[])).next())});var t,e,o}loadRepo(t,e){const o=this.repoService.getRepoAnalytics(t,e);this.loadingController.create({cssClass:"loading-backgroud",message:"Loading repository"}).then(t=>{t.present(),o.subscribe(e=>{this.repoAnalytics$=o,t.dismiss()})})}}return t.\u0275fac=function(e){return new(e||t)(c.Jb(p),c.Jb(s.g),c.Jb(r.B))},t.\u0275cmp=c.Db({type:t,selectors:[["app-repo"]],decls:9,vars:3,consts:[["slot","start"],["defaultHref","tabs/favorites"],[4,"ngIf"],[3,"repo"],[3,"commiters","size"]],template:function(t,e){1&t&&(c.Mb(0,"ion-header"),c.Mb(1,"ion-toolbar"),c.Mb(2,"ion-buttons",0),c.Kb(3,"ion-back-button",1),c.Lb(),c.Mb(4,"ion-title"),c.jc(5," Repository "),c.Lb(),c.Lb(),c.Lb(),c.Mb(6,"ion-content"),c.hc(7,g,7,3,"div",2),c.Xb(8,"async"),c.Lb()),2&t&&(c.zb(7),c.bc("ngIf",c.Yb(8,1,e.repoAnalytics$)))},directives:[r.k,r.y,r.f,r.c,r.d,r.x,r.j,n.j,r.s,r.i,m,v],pipes:[n.b],styles:[".loading-backgroud[_ngcontent-%COMP%]{--background:#222;--spinner-color:#fff;color:#fff}"]}),t})()}];let L=(()=>{class t{}return t.\u0275mod=c.Hb({type:t}),t.\u0275inj=c.Gb({factory:function(e){return new(e||t)},imports:[[s.i.forChild(M)],s.i]}),t})(),y=(()=>{class t{}return t.\u0275mod=c.Hb({type:t}),t.\u0275inj=c.Gb({factory:function(e){return new(e||t)},imports:[[n.c,i.a,r.z,L]]}),t})()}}]);