(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{"7M+u":function(t,e,o){"use strict";o.r(e),o.d(e,"RepoPageModule",function(){return z});var n=o("ofXK"),i=o("3Pt+"),c=o("TEn/"),s=o("tyNb"),r=o("fXoL"),b=o("UXun"),a=o("AytR"),l=o("tk/3");let p=(()=>{class t{constructor(t){this.http=t}getRepoAnalytics(t,e){return this.http.get(`${a.a.url}/github/repos/${t}/${e}/analytics`).pipe(Object(b.a)())}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(l.a))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var m=o("9atR");function u(t,e){if(1&t){const t=r.Nb();r.Mb(0,"ion-button",5),r.Ub("click",function(){return r.fc(t),r.Wb().removeFave()}),r.Kb(1,"ion-icon",6),r.kc(2," added to favorites "),r.Lb()}}function f(t,e){if(1&t){const t=r.Nb();r.Mb(0,"ion-button",7),r.Ub("click",function(){return r.fc(t),r.Wb().addFav()}),r.Kb(1,"ion-icon",6),r.kc(2," add to favorites "),r.Lb()}}let d=(()=>{class t{constructor(t){this.storage=t}ngOnInit(){this.checkFav()}checkFav(){this.isFav=Promise.resolve(!1),this.storage.isFav(this.repo.id).subscribe(t=>{this.isFav=Promise.resolve(t)})}addFav(){this.storage.addFavorite(this.repo),this.isFav=Promise.resolve(!0)}removeFave(){this.storage.removeFavorite(this.repo),this.isFav=Promise.resolve(!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(m.a))},t.\u0275cmp=r.Db({type:t,selectors:[["app-owner"]],inputs:{repo:"repo"},decls:20,vars:8,consts:[["lines","none"],["slot","end",3,"click",4,"ngIf","ngIfElse"],["elseBlock",""],["slot","start"],[3,"src"],["slot","end",3,"click"],["slot","end","name","star"],["color","light","slot","end",3,"click"]],template:function(t,e){if(1&t&&(r.Mb(0,"div"),r.Mb(1,"ion-item",0),r.Mb(2,"h3"),r.kc(3,"Owner"),r.Lb(),r.ic(4,u,3,0,"ion-button",1),r.Xb(5,"async"),r.ic(6,f,3,0,"ng-template",null,2,r.jc),r.Lb(),r.Mb(8,"ion-card"),r.Mb(9,"ion-card-content"),r.Mb(10,"ion-item",0),r.Mb(11,"ion-avatar",3),r.Kb(12,"img",4),r.Lb(),r.Mb(13,"ion-label"),r.Mb(14,"h2"),r.kc(15),r.Lb(),r.Mb(16,"h3"),r.kc(17),r.Lb(),r.Mb(18,"p"),r.kc(19),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb()),2&t){const t=r.ec(7);r.zb(4),r.cc("ngIf",r.Yb(5,6,e.isFav))("ngIfElse",t),r.zb(8),r.cc("src",e.repo.avatar,r.gc),r.zb(3),r.lc(e.repo.name),r.zb(2),r.lc(e.repo.owner),r.zb(2),r.lc(e.repo.description)}},directives:[c.m,n.k,c.g,c.h,c.b,c.n,c.e,c.l],pipes:[n.b],styles:[""]}),t})();function h(t,e){if(1&t&&(r.Mb(0,"ion-card"),r.Mb(1,"ion-card-content"),r.Mb(2,"ion-item",0),r.Mb(3,"ion-avatar",2),r.Kb(4,"img",3),r.Lb(),r.Mb(5,"ion-label"),r.Mb(6,"h2"),r.kc(7),r.Lb(),r.Mb(8,"h3"),r.kc(9),r.Lb(),r.Lb(),r.Lb(),r.Mb(10,"ion-label"),r.kc(11),r.Lb(),r.Kb(12,"ion-progress-bar",4),r.Lb(),r.Lb()),2&t){const t=e.$implicit,o=r.Wb();r.zb(4),r.cc("src",t.avatar,r.gc),r.zb(3),r.lc(t.login),r.zb(2),r.lc(t.email),r.zb(2),r.mc("Commit no: ",t.commitCount,""),r.zb(1),r.cc("value",o.getPercent(t.commitCount))}}let v=(()=>{class t{constructor(){}ngOnInit(){}getPercent(t){return t/this.size}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["app-commiters"]],inputs:{commiters:"commiters",size:"size"},decls:5,vars:1,consts:[["lines","none"],[4,"ngFor","ngForOf"],["slot","start"],[3,"src"],[3,"value"]],template:function(t,e){1&t&&(r.Mb(0,"div"),r.Mb(1,"ion-item",0),r.Mb(2,"h3"),r.kc(3,"Commiters"),r.Lb(),r.Lb(),r.ic(4,h,13,5,"ion-card",1),r.Lb()),2&t&&(r.zb(4),r.cc("ngForOf",e.commiters))},directives:[c.m,n.j,c.g,c.h,c.b,c.n,c.q],styles:[""]}),t})();function g(t,e){if(1&t&&(r.Mb(0,"ion-card"),r.Mb(1,"ion-card-content"),r.Mb(2,"ion-item",0),r.Mb(3,"ion-label"),r.Mb(4,"h2"),r.kc(5),r.Xb(6,"date"),r.Lb(),r.Lb(),r.Lb(),r.Mb(7,"ion-item",0),r.Mb(8,"ion-label"),r.Mb(9,"h3"),r.kc(10),r.Lb(),r.Mb(11,"h3"),r.kc(12),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb()),2&t){const t=e.$implicit;r.zb(5),r.lc(r.Zb(6,3,t.date,"EEEE, MMMM d, yyyy h:mm a")),r.zb(5),r.lc(t.login),r.zb(2),r.lc(t.commitMessage)}}let M=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["app-timeline"]],inputs:{commits:"commits"},decls:5,vars:1,consts:[["lines","none"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(r.Mb(0,"div"),r.Mb(1,"ion-item",0),r.Mb(2,"h3"),r.kc(3,"Timeline"),r.Lb(),r.Lb(),r.ic(4,g,13,6,"ion-card",1),r.Lb()),2&t&&(r.zb(4),r.cc("ngForOf",e.commits))},directives:[c.m,n.j,c.g,c.h,c.n],pipes:[n.e],styles:[""]}),t})();function L(t,e){if(1&t&&(r.Mb(0,"div"),r.Mb(1,"ion-row"),r.Mb(2,"ion-col"),r.Kb(3,"app-owner",3),r.Lb(),r.Lb(),r.Mb(4,"ion-row"),r.Mb(5,"ion-col"),r.Kb(6,"app-commiters",4),r.Lb(),r.Lb(),r.Mb(7,"ion-row"),r.Mb(8,"ion-col"),r.Kb(9,"app-timeline",5),r.Lb(),r.Lb(),r.Lb()),2&t){const t=e.ngIf,o=r.Wb();r.zb(3),r.cc("repo",o.repo),r.zb(3),r.cc("commiters",t.commitersInfo)("size",t.totalCommits),r.zb(3),r.cc("commits",t.commits)}}const k=[{path:"",component:(()=>{class t{constructor(t,e,o){this.repoService=t,this.router=e,this.loadingController=o}ngOnInit(){this.getRouteData()}getRouteData(){return t=this,void 0,o=function*(){const t=yield this.router.getCurrentNavigation().extras.state;t?(this.repo=t.repo,this.loadRepo(this.repo.owner,this.repo.name)):this.router.navigate(["tabs","favorites"])},new((e=void 0)||(e=Promise))(function(n,i){function c(t){try{r(o.next(t))}catch(e){i(e)}}function s(t){try{r(o.throw(t))}catch(e){i(e)}}function r(t){var o;t.done?n(t.value):(o=t.value,o instanceof e?o:new e(function(t){t(o)})).then(c,s)}r((o=o.apply(t,[])).next())});var t,e,o}loadRepo(t,e){const o=this.repoService.getRepoAnalytics(t,e);this.loadingController.create({cssClass:"loading-backgroud",message:"Loading repository"}).then(t=>{t.present(),o.subscribe(e=>{this.repoAnalytics$=o,t.dismiss()})})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(p),r.Jb(s.g),r.Jb(c.B))},t.\u0275cmp=r.Db({type:t,selectors:[["app-repo"]],decls:9,vars:3,consts:[["slot","start"],["defaultHref","tabs/favorites"],[4,"ngIf"],[3,"repo"],[3,"commiters","size"],[3,"commits"]],template:function(t,e){1&t&&(r.Mb(0,"ion-header"),r.Mb(1,"ion-toolbar"),r.Mb(2,"ion-buttons",0),r.Kb(3,"ion-back-button",1),r.Lb(),r.Mb(4,"ion-title"),r.kc(5," Repository "),r.Lb(),r.Lb(),r.Lb(),r.Mb(6,"ion-content"),r.ic(7,L,10,4,"div",2),r.Xb(8,"async"),r.Lb()),2&t&&(r.zb(7),r.cc("ngIf",r.Yb(8,1,e.repoAnalytics$)))},directives:[c.k,c.y,c.f,c.c,c.d,c.x,c.j,n.k,c.s,c.i,d,v,M],pipes:[n.b],styles:[".loading-backgroud[_ngcontent-%COMP%]{--background:#222;--spinner-color:#fff;color:#fff}"]}),t})()}];let y=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},imports:[[s.i.forChild(k)],s.i]}),t})(),z=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},imports:[[n.c,i.a,c.z,y]]}),t})()}}]);